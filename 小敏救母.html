<!DOCTYPE html>
<html>
<head>
    <title>å°æ•æ•‘æ¯</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .status-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 2px solid #e0e0e0;
        }
        .status-panel p {
            margin: 10px 0;
            font-size: 1.1em;
            color: #34495e;
        }
        .action-panel button {
            margin: 8px;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }
        .action-panel button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        #buyBtn { background: #27ae60; color: white; }
        #upgradeBtn { background: #f39c12; color: white; }
        #produceBtn { background: #2980b9; color: white; }
        #sellBtn { background: #e74c3c; color: white; }
        #nextBtn { background: #9b59b6; color: white; }
        .event-log {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            margin-top: 25px;
            border-radius: 8px;
            height: 150px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>å°æ•æ•‘æ¯</h1>
        <div class="status-panel">
            <h3>å½“å‰çŠ¶æ€ï¼ˆæœˆä»½: <span id="month">1</span>ï¼‰</h3>
            <p>èµ„é‡‘: $<span id="cash">10000</span></p>
            <p>åŸææ–™åº“å­˜: <span id="material">100</span> å•ä½</p>
            <p>äº§å“åº“å­˜: <span id="product">0</span> å•ä½</p>
            <p>ç”Ÿäº§ç­‰çº§: <span id="productionLevel">1</span></p>
            <p>å¸‚åœºéœ€æ±‚: <span id="demand">100</span> å•ä½/æœˆï¼ˆä»·æ ¼: $<span id="price">50</span>/å•ä½ï¼‰</p>
            <p>æ¯äº²çš„å¥åº·çŠ¶å†µ: <span id="motherHealth">ç¨³å®š</span></p>
        </div>
        <div class="action-panel">
            <button id="buyBtn" onclick="buyMaterial(10)">
                è´­ä¹°åŸææ–™ï¼ˆ10å•ä½ï¼Œ$500ï¼‰
            </button>
            <button id="upgradeBtn" onclick="upgradeProduction()">
                å‡çº§å·¥å‚ï¼ˆ$2000ï¼‰
            </button>
            <button id="produceBtn" onclick="produce()">
                ç”Ÿäº§äº§å“
            </button>
            <button id="sellBtn" onclick="sellProduct()">
                å‡ºå”®äº§å“
            </button>
            <button id="nextBtn" onclick="nextMonth()">
                è¿›å…¥ä¸‹ä¸ªæœˆ
            </button>
        </div>
        <div class="event-log" id="eventLog"></div>
    </div>
    <script>
        let gameState = {
            cash: 10000,
            material: 100,
            product: 0,
            productionLevel: 1,
            month: 1,
            demand: 100,
            price: 50,
            goal: 50000, // ç›®æ ‡é‡‘é¢ï¼ˆæ²»ç–—æ¯äº²çš„è´¹ç”¨ï¼‰
            motherHealth: "ç¨³å®š" // æ¯äº²çš„å¥åº·çŠ¶å†µ
        };

        // åˆå§‹åŒ–æ—¶æ·»åŠ å‰§æƒ…èƒŒæ™¯
        function logEvent(message, type = 'info') {
            const log = document.getElementById('eventLog');
            const color = {
                info: '#3498db',
                success: '#2ecc71',
                warning: '#f1c40f',
                danger: '#e74c3c'
            }[type];
            log.innerHTML += `<span style="color:${color}">[Month ${gameState.month}] ${message}</span><br>`;
            log.scrollTop = log.scrollHeight;
        }

        // æ·»åŠ å‰§æƒ…èƒŒæ™¯
        logEvent("å‰§æƒ…èƒŒæ™¯ï¼šå°æ•çš„æ¯äº²æ‚£ä¸Šäº†ä¹³è…ºç™Œï¼Œéœ€è¦50000ç¾å…ƒå»å›½å¤–æ²»ç–—ã€‚ä½†æ˜¯ç°åœ¨å°æ•æ‰‹ä¸Šåªæœ‰10000ç¾å…ƒï¼Œå†³å®šé€šè¿‡åˆ›ä¸šèµšé’±æ¥æ•‘å¥¹çš„æ¯äº²ï¼Œä½ æ˜¯å¥¹çš„å¥½æœ‹å‹ï¼Œå†³å®šå¸®å¸®å¥¹ã€‚åœ¨å¥¹çš„å®¶é‡Œï¼Œå¥¹é‚€è¯·ä½ å¸®åŠ©å¥¹è´­å…¥åŸææ–™ï¼Œç”Ÿäº§åŸææ–™å¹¶å–å‡ºï¼Œè€Œå¥¹è´Ÿè´£åè°ƒè¿›è´§å•†å’Œå¸‚åœºè°ƒç ”ã€‚ä¸€èµ·ä¸ºè¿™å¯¹å¯æ€œçš„æ¯å¥³åšç‚¹ä»€ä¹ˆå§ï¼ï¼ï¼", 'info');

        function buyMaterial(amount) {
            const cost = amount * 50;
            if (gameState.cash >= cost) {
                gameState.cash -= cost;
                gameState.material += amount;
                logEvent(`âœ… è´­å…¥ ${amount} å•ä½åŸææ–™ï¼ŒèŠ±è´¹ $${cost}`, 'success');
                updateUI();
            } else {
                logEvent('âŒ èµ„é‡‘ä¸è¶³ï¼', 'danger');
            }
        }

        function upgradeProduction() {
            if (gameState.cash >= 2000) {
                gameState.cash -= 2000;
                gameState.productionLevel++;
                logEvent(`âš™ï¸ ç”Ÿäº§ç­‰çº§æå‡è‡³ ${gameState.productionLevel}`, 'success');
                updateUI();
            } else {
                logEvent('âš ï¸ å‡çº§éœ€è¦ $2000!', 'warning');
            }
        }

        function produce() {
            const maxProduct = Math.floor(gameState.material * gameState.productionLevel);
            if (maxProduct > 0) {
                gameState.product += maxProduct;
                gameState.material = 0;
                logEvent(`ğŸ­ ç”Ÿäº§äº† ${maxProduct} ä¸ªäº§å“`, 'success');
                updateUI();
            } else {
                logEvent('âš ï¸ æ²¡æœ‰åŸææ–™å¯ä¾›ç”Ÿäº§ï¼', 'warning');
            }
        }

        function sellProduct() {
            const sold = Math.min(gameState.product, gameState.demand);
            const income = sold * gameState.price;
            gameState.cash += income;
            gameState.product -= sold;
            logEvent(`ğŸ’° å”®å‡º ${sold} å•ä½äº§å“ï¼Œæ”¶å…¥ $${income}`, 'success');
            updateUI();
        }

        function nextMonth() {
            gameState.month++;
            if (Math.random() < 0.3) {
                gameState.demand = Math.max(50, gameState.demand + Math.floor(Math.random() * 40 - 20));
                gameState.price = Math.max(30, gameState.price + Math.floor(Math.random() * 20 - 10));
                logEvent(`ğŸŒŠ å¸‚åœºæ³¢åŠ¨ï¼æ–°éœ€æ±‚: ${gameState.demand} å•ä½ï¼Œæ–°ä»·æ ¼: $${gameState.price}`, 'warning');
            }

            // æ¯äº²çš„å¥åº·çŠ¶å†µå˜åŒ–
            if (gameState.cash < gameState.goal && Math.random() < 0.2) {
                gameState.motherHealth = "æ¶åŒ–";
                logEvent("âš ï¸ æ¯äº²çš„å¥åº·çŠ¶å†µæ¶åŒ–ï¼è¯·å°½å¿«ç­¹é›†æ²»ç–—è´¹ç”¨ï¼", 'danger');
            } else {
                gameState.motherHealth = "ç¨³å®š";
            }

            updateUI();
        }

        function updateUI() {
            document.getElementById('cash').textContent = gameState.cash;
            document.getElementById('material').textContent = gameState.material;
            document.getElementById('product').textContent = gameState.product;
            document.getElementById('productionLevel').textContent = gameState.productionLevel;
            document.getElementById('month').textContent = gameState.month;
            document.getElementById('demand').textContent = gameState.demand;
            document.getElementById('price').textContent = gameState.price;
            document.getElementById('motherHealth').textContent = gameState.motherHealth;

            // åŠ¨æ€æç¤ºæ˜¯å¦è¾¾åˆ°ç›®æ ‡
            if (gameState.cash >= gameState.goal) {
                logEvent("ğŸ‰ ä½ å¸®åŠ©å°æ•æˆåŠŸèµšåˆ°äº†è¶³å¤Ÿçš„é’±ï¼å¥¹çš„æ¯äº²å¯ä»¥æ¥å—æ²»ç–—äº†ï¼å¥¹å¾ˆæ„Ÿæ¿€ä½ ã€‚åå¹´åï¼Œå¥¹ç»™ä½ ä¹°äº†ä¸€å¥—æ±¤è‡£ä¸€å“ã€‚", 'success');
            }
        }

        // åˆå§‹åŒ–ç•Œé¢
        updateUI();
    </script>
</body>
</html>